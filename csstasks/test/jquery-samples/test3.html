<!DOCTYPE html>
<html lang="en">
    <body>
        <div class="main">
            <input data-bind="text" />
            <label>You typed: </label>
            <label data-bind="text"></label>
        </div>

        <div class="main">
            <input data-bind="text" />
            <label>You typed: </label>
            <label data-bind="text"></label>
        </div>
        
        <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>

        <style>
            body{
                padding: 0;
            }

            label{
                margin-top:10px;
                display:inline-block;
            }

            .main{
                background-color: brown;
                width: 500px;
                height: 200px;
                border: 1px solid black;
                
                padding: 20px 40px;
            }

            input{
                display: block;
            }
        </style>

        <script>
            (function($) {
                $.fn.databind = function(model) {
                    return this.each(function() {
                        var $main = $(this);
                        var $elements = $main.find("[data-bind]");

                        $elements.on("keyup, change, input propertychange", function(event) {
                            var $this = $(this);                            
                            model[$this.data('bind')].set($this.val());
                        }).each(function(i, el) {
                            var $this = $(this);
                            var prop = model[$this.data('bind')];
                            prop.addHandler(function (val) {
                                $this.val(val).text(val);                            
                            })
                            var val = prop.get();
                            $this.val(val).text(val);
                        });
                    });
                
                    return this;
                }
                
                function property(val) {
                    var value = val;
                    var handlers = [];
                    return {
                        get: function() {
                            return value;
                        },
                        set: function(val) {
                            if (val !== value) {
                                value = val;
                                for(var i = 0; i < handlers.length; i++) {
                                    handlers[i](value);
                                }
                            }
                        },
                        addHandler: function(handler) {
                            if (handler) { handlers.push(handler); }
                        },
                        removeHandler: function(handler) {
                            var i = -1;
                            if (handler && (i = handlers.indexOf(handler)) >= 0) { handlers.splice(i, 1);  }
                        }
                    }
                }

                var model = {
                    text: property('')
                }

                $(".main").databind(model);
            }(jQuery));
        </script>
    </body>
</html>