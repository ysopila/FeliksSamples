<!DOCTYPE html>
<html lang="en">
    <body>
        <div class="main">
            <input data-bind="text" />
            <button>Switch to one way binding</button>
            <br/>            
            <label>You typed: </label>
            <label data-bind="text"></label>
        </div>

        <div class="main">
            <input data-bind="text" />
            <br/>
            <label>You typed: </label>
            <label data-bind="text"></label>
        </div>
        
        <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>

        <style>
            body{
                padding: 0;
            }

            label{
                margin-top:10px;
                display:inline-block;
            }

            .main{
                background-color: brown;
                width: 500px;
                height: 200px;
                border: 1px solid black;
                
                padding: 20px 40px;
            }
        </style>

        <script>
            (function($) {
                $.fn.databind = function(model) {
                    return this.each(function() {
                        var $main = $(this);
                        $main.data('model', model);
                        var $elements = $main.find("[data-bind]");

                        $elements.on("keyup, change, input propertychange", function(event) {
                            var $this = $(this);                            
                            model[$this.data('bind')].set($this.val(), this);
                        }).each(function() {
                            var $this = $(this);
                            var prop = model[$this.data('bind')];
                            prop.addHandler(function (val) {
                                $this.val(val).text(val);                            
                            }, this);
                            var val = prop.get();
                            $this.val(val).text(val);
                        });
                    });
                
                    return this;
                }

                $('.main').each(function() {
                    var $main = $(this);
                    $('button', this).on('click', function() {
                        $main.data('model')[$('input', $main).data('bind')].removeHandler($('input', $main)[0]);
                    })
                });
                
                function property(val) {
                    var value = val;
                    var handlers = [];
                    return {
                        get: function() {
                            return value;
                        },
                        set: function(val, sender) {
                            if (val !== value) {
                                value = val;
                                for(var i = 0; i < handlers.length; i++) {
                                    if (!sender || handlers[i].target !== sender) {
                                        handlers[i].handler(value);
                                    }
                                }
                            }
                        },
                        addHandler: function(handler, target) {
                            if (handler) { handlers.push({ target: target, handler: handler }); }
                        },
                        removeHandler: function(target) {
                            for(var i = 0; i < handlers.length; i++) {
                                if (handlers[i].target == target) {
                                    handlers.splice(i, 1);
                                    break;
                                }
                            }
                        }
                    }
                }

                var model = {
                    text: property('')
                }

                $(".main").databind(model);
            }(jQuery));
        </script>
    </body>
</html>