<!DOCTYPE html>
<html lang="en">
    <link href="https://use.fontawesome.com/releases/v5.0.8/css/all.css" rel="stylesheet">
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
    <body>
        <div class="select" data-value="2">
            <div data-value="1">Option 1</div>
            <div data-value="2">Option 2</div>
            <div data-value="3">Option 3</div>
        </div>

        <script>
            $(document).ready(function() {
                setContentStyles(createContent());
                setButtonStyles(createButton());
                setTextStyles(createTextElement());

                var value = $(".select").data().value;
                $('.dropdown-content').children('div').each(function () {
                    if(this.dataset.value == value){
                        $(".text").text("Option " + this.dataset.value);
                        $(this).addClass("selected");
                    }
                });
            });
            
            $("*").on("click", function(event){
                if(event.target.className !== 'dropbtn' || 
                    event.target.className !== 'fas fa-caret-down'){
                    $(".dropdown-content").css("display", "none");
                }
            });

            function dropDownContentClick(event){
                $(".text").text("Option " + event.target.dataset.value);
                $("div").find('.selected').removeClass();
                $(event.target).addClass("selected"); 
                $(".dropdown-content").css("display", "none");
            };

            function showOptionList(event){
                var dropDownContent = $(".dropdown-content");
                dropDownContent.css("display", dropDownContent.css("display") === "none" ? "block" : "none");
                return false;
            }

            function createContent(){
                var content = $('<div/>', {
                    class: 'dropdown-content',
                    click: dropDownContentClick
                });

                $(".select > div").appendTo(content);
                $(".select").append(content);

                return content;
            }

            function createArrow(){
                return $('<i/>', {
                    class: 'fas fa-caret-down'
                });
            }

            function createTextElement(){
                var text = $('<p/>', {
                    class: 'text',
                });

                $(".select").append(text);

                return text;
            }

            function createButton(){
                var arrow = createArrow();

                var button = $('<div/>', {
                    class: 'dropbtn',
                    click: showOptionList
                }).append(arrow);

                $(".select").append(button);
                return button;
            }

            function setContentStyles(content){
                content.css({
                    "display" : "none",
                    "position" : "absolute",
                    "top" : "38px",
                    "min-width" : "200px"
                });
            }

            function setTextStyles(pElem){
                pElem.css({
                    "margin" : "0",
                    "padding" : "10px",
                    "float": "left",
                    "font-size": "16px"
                });
            }

            function setButtonStyles(btn){
               btn.css({
                    "padding" : "10px",
                    "border-left" : "1px solid black",
                    "float" : "right",
                    "background-color" : "lightgray"
                });
            }
        </script>

        <style>
            body{
                box-sizing: border-box;
            }

            .select {
                background-color: white;
                font-size: 16px;
                border: 1px solid black;
                position: relative;
                display: inline-block; 
                width: 200px;
            }

            .dropdown-content > div:hover {
                background-color: blue;
            }

            .dropdown-content > div {
                border: 0.5px solid black;
                color: black;
                padding: 12px 16px;
                display: block;
            }

            .selected{
                background-color: yellow;
            }
        </style>
    </body>
</html>