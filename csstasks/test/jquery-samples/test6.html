<!DOCTYPE html>
<html lang="en">

<body>
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
    <script> 
    (function(){
        'use strict';

        function all(iterables){
            var obj = {
                size : iterables.length,
                arr : []
            };
            return new Promise((resolve, reject) => {
                iterables.reduce(function(previousValue, currentValue, index, array) {
                    Promise.resolve(currentValue).then(function(value) {
                        previousValue.arr.push(value)
                        if(index == (previousValue.size-1)){
                            resolve(previousValue.arr);
                        }
                    }, function(error){
                        reject(error);
                    });

                    return previousValue;
                }, obj);
            });
        } 

        var p1 = Promise.resolve(3);
        var p2 = new Promise((resolve, reject) => {
            setTimeout(resolve, 100, "foo");
        }); 
        var p3 = 1337;

        all([p1, p2, p3]).then(values => { 
            console.log(values); 
        }, error => {
            console.log(error);
        });

        Promise.all([p1, p2, p3]).then(values => { 
            console.log(values); 
        }, error => {
            console.log(error);
        });
    })(jQuery);
    </script>
</body>

</html>